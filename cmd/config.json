{
  "name": "install demo",
  "remotes": {
    "dev81": {
      "port": 22,  "user": "root", "host": "192.168.1.81",  "auth": "password"
    }
  },
  "env": {
    "CustomValue": "ok"
  },
  "jobs": {
    "install": {
      "concurrency": false,
      "commands": [
        {"type": "job", "value": "nodeInstall", "runAt": "local"},
        {"type": "job", "value": "nodeInstall", "runAt": "dev81"},
        {"type": "job", "value": "nodeInstall", "runAt": "local"},
        {"type": "job", "value": "nodeInstall", "runAt": "dev81"}
      ],
      "errorHandler": [
        {"type": "job", "value": "nodeUninstall", "runAt": "dev81"}
      ]
    },
    "nodeInstall": {
      "commands": [
        {"type": "command", "value": "vim test.sh", "inputs": [
          "i", 
          "test\n",
          "test\n",
          "abc\n",
          "#[KeyESC]:wq\n"
        ]}
      ]
    },
    "nodeUninstall": {
      "commands": [
        {"type": "command", "value": "rm /opt/demo/test.log"}
      ]
    },
    "uninstall": {
      "concurrency": true,
      "commands": [
        {"type": "job", "value": "nodeUninstall", "runAt": "dev81"}
      ]
    }
  }
}
