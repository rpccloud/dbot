---
name: dbot entry
remotes: 
  EtcdClient:
    - host: 192.168.1.81
      user: root
imports:
  EtcdServers: 
    config: ./remotes.yml
    name: etcdServers
tasks:
  installEtcd:
    env: 
      EtcdName: "name"
    inputs: 
      EtcdName: 
        type: text
        desc: "Input etcd cluster name: "
    #   EtcdPassword:
    #     type: password
    #     desc: "Input etcd password: "
    config: ../examples/etcd/main.yml
    run: initEtcdNodeCA
main: 
  - installEtcd
    
# jobs:
#   install:
#     commands:
#       - type: job
#         config: ../examples/etcd/main.yml
#         exec: initEtcdNodeCA
#       - type: job
#         config: ../examples/etcd/main.yml
#         exec: initEtcdClientCA
#   test:
#     commands:
#       - type: js
#         on: dev81
#         exec: |
#           (function(name) {
#             dbot.Log("hello log " + name)
#             dbot.Error("hello error " + name)
#             dbot.Command({
#               exec: 'echo "hello uu"',
#               inputs: [
#                 "hello",
#                 "world",
#               ],
#               env: {
#                 TestEnv: "you",
#               },
#             })
#           }) ("world")
#       - exec: echo "hello"
#       - exec: echo "hello"
